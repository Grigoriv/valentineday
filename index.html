<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Для моєї Анічки ❤️</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400;1,600&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --bg: #fff0f3;
            --text: #590d22;
            --highlight-start: #590d22; 
            --highlight-end: #a4161a; 
            --card-shadow: 0 30px 60px -10px rgba(89, 13, 34, 0.15);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background-color: var(--bg); 
            color: var(--text);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            font-family: 'Playfair Display', serif; 
            font-style: italic;
        }

        .ambient-light {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; pointer-events: none;
        }
        .blob { position: absolute; filter: blur(100px); opacity: 0.3; }
        .blob-1 { top: -10%; left: -10%; width: 60vw; height: 60vw; background: #ffccd5; }
        .blob-2 { bottom: -10%; right: -10%; width: 60vw; height: 60vw; background: #ffb3c1; }

        section {
            min-height: 100vh;
            display: flex; align-items: center; justify-content: center;
            padding: 10vh 20px; position: relative; z-index: 2;
        }

        .hero-title {
            font-size: clamp(3rem, 10vw, 6.5rem);
            font-weight: 600; 
            background: linear-gradient(135deg, var(--highlight-start), var(--highlight-end));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            line-height: 1.1;
        }

        .content-wrapper {
            display: flex; flex-direction: column; align-items: center; 
            gap: 40px; width: 100%; max-width: 1100px;
        }

        @media (min-width: 1024px) {
            .content-wrapper { flex-direction: row; justify-content: space-around; }
            .content-wrapper.reverse { flex-direction: row-reverse; }
        }

        .card-container {
            width: 100%; max-width: 420px; aspect-ratio: 4 / 5;
            border-radius: 30px; overflow: hidden; position: relative;
            box-shadow: var(--card-shadow); background: #fff;
        }

        .card-container.horizontal { aspect-ratio: 4 / 3; max-width: 500px; }

        .card-image {
            width: 100%; height: 135%; object-fit: cover;
            position: absolute; top: -17.5%; left: 0;
            will-change: transform;
        }

        .text-block {
            max-width: 450px;
            font-size: clamp(1.4rem, 4vw, 2.3rem);
            line-height: 1.4;
            text-align: center;
        }

        .highlight {
            font-weight: 600;
            background: linear-gradient(90deg, var(--highlight-start), var(--highlight-end));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .music-btn {
            position: fixed; bottom: 25px; right: 25px;
            background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px);
            padding: 12px 20px; border-radius: 25px; border: 1px solid rgba(89, 13, 34, 0.1);
            cursor: pointer; z-index: 100; font-family: inherit; font-size: 0.8rem;
            color: var(--text); box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .final-reveal {
            font-size: clamp(2.2rem, 8vw, 4.5rem);
            cursor: pointer; font-weight: 600;
            background: linear-gradient(135deg, var(--highlight-start), var(--highlight-end));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            padding-right: 15px;
        }
    </style>
</head>
<body>

    <div class="ambient-light">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <button class="music-btn" onclick="toggleMusic()" id="musicBtn">Play Music ♫</button>
    <audio id="bgMusic" loop src="https://www.dropbox.com/scl/fi/gdhr0uj0llmwsc1f594oz/8ade7716f6b1ec6.mp3?rlkey=e1cc1l4ttfg10xcgwdoj9b2na&st=01iu5jba&dl=1"></audio>

    <section><div class="hero-title">Для моєї коханої Анічки.</div></section>

    <section>
        <div class="content-wrapper">
            <div class="card-container"><img src="https://i.postimg.cc/VsVckzV7/IMG-5102.jpg" class="card-image"></div>
            <div class="text-block">Все почалося на інферно і я навіть подумати не міг, що там знайду <span class="highlight">любов</span> всього життя. Яка повністю змінить мій світ.</div>
        </div>
    </section>

    <section>
        <div class="content-wrapper reverse">
            <div class="card-container"><img src="https://i.postimg.cc/0yzWTfV0/IMG_4178.jpg" class="card-image"></div>
            <div class="text-block">У моєму світі найтепліше місце — <span class="highlight">твої</span> обійми.</div>
        </div>
    </section>

    <section>
        <div class="content-wrapper">
            <div class="card-container horizontal"><img src="https://i.postimg.cc/j2vJ0LXF/IMG-4463.jpg" class="card-image"></div>
            <div class="text-block">Ти — моя найкраща <span class="highlight">випадковість</span>, яка стала сенсом життя.</div>
        </div>
    </section>

    <section>
        <div class="content-wrapper reverse">
            <div class="card-container"><img src="https://i.postimg.cc/NF0jXb6T/IMG-4556.jpg" class="card-image"></div>
            <div class="text-block">Дякую, що наповнюєш кожен мій день <span class="highlight">ніжністю</span>.</div>
        </div>
    </section>

    <section>
        <div class="content-wrapper">
            <div class="card-container horizontal"><img src="https://i.postimg.cc/FFq4G9NQ/IMG-5317.jpg" class="card-image"></div>
            <div class="text-block">Бути з <span class="highlight">тобою</span> — це знати, що тебе завжди зрозуміють, підтримають і зігріють усмішкою.</div>
        </div>
    </section>

    <section>
        <div class="content-wrapper reverse">
            <div class="card-container"><img src="https://i.postimg.cc/wjWr02YV/IMG-4586.jpg" class="card-image"></div>
            <div class="text-block">Моє <span class="highlight">кохання</span> до тебе — це не те, що можна виміряти словами, це те, що я відчуваю кожним ударом серця.</div>
        </div>
    </section>

    <section>
        <div class="content-wrapper">
            <div class="card-container"><img src="https://i.postimg.cc/yNFPKrcS/IMG_5415.jpg" class="card-image"></div>
            <div class="text-block"><span class="highlight">Ти</span> — моє головне натхнення і найщасливіший вибір у житті. Моє серце належить <span class="highlight">тобі</span> кожну секунду нашого життя.</div>
        </div>
    </section>

    <section>
        <div class="final-reveal" onclick="celebrate()">Я тебе кохаю ❤️</div>
    </section>

    <script>
        // Telegram WebApp Setup
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
        tg.enableClosingConfirmation(); // Запит при спробі закрити

        window.addEventListener('load', () => {
            if (typeof gsap !== "undefined") {
                gsap.registerPlugin(ScrollTrigger);
                
                const wrappers = document.querySelectorAll('.content-wrapper');
                wrappers.forEach(wrapper => {
                    const card = wrapper.querySelector('.card-container');
                    const text = wrapper.querySelector('.text-block');
                    const img = wrapper.querySelector('.card-image');

                    gsap.from(card, {
                        scrollTrigger: { trigger: wrapper, start: "top 90%", end: "top 40%", scrub: 1.5 },
                        opacity: 0, y: 100, rotateX: 5, ease: "power2.out"
                    });

                    gsap.from(text, {
                        scrollTrigger: { trigger: wrapper, start: "top 85%", end: "top 45%", scrub: 2 },
                        opacity: 0, y: 40
                    });

                    gsap.to(img, {
                        scrollTrigger: { trigger: wrapper, start: "top bottom", end: "bottom top", scrub: true },
                        y: "10%", ease: "none"
                    });
                });
            }
        });

        function celebrate() {
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 }, colors: ['#590d22', '#a4161a', '#ffccd5'] });
            // Вібрація для Telegram на iPhone
            if (tg.HapticFeedback) {
                tg.HapticFeedback.notificationOccurred('success');
            }
        }

        function toggleMusic() {
            const audio = document.getElementById('bgMusic');
            const btn = document.getElementById('musicBtn');
            if (audio.paused) {
                audio.play();
                btn.innerHTML = "Pause Music";
            } else {
                audio.pause();
                btn.innerHTML = "Play Music";
            }
        }
    </script>
</body>
</html>

